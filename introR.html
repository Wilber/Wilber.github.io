<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Introduction to R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">RNA-Seq Data Analysis at OSC</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="introR.html">Intro to R</a>
</li>
<li>
  <a href="rna_seq_analysis.html">Day 1</a>
</li>
<li>
  <a href="rna_seq_analysis_day2.html">Day 2</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Introduction to R</h1>

</div>


<style type="text/css">
body{ /* Normal  */
      font-size: 16px;
  }

code.r{ /* Code block */
    font-size: 14px;
}
</style>
<div id="learning-objectives" class="section level3">
<h3><span class="header-section-number">0.0.1</span> Learning Objectives</h3>
<ul>
<li>Learn different <code>R</code> data types</li>
<li>Create <code>R</code> functions</li>
<li>Manage <code>R</code> packages</li>
</ul>
<hr />
</div>
<div id="r-basics" class="section level2">
<h2><span class="header-section-number">0.1</span> R Basics</h2>
<p><code>R</code> is a command line driven program. The user enters commands at the prompt of <code>R</code> interface and each command is executed one at a time.</p>
<p>What you type on the right is assigned to what you type on the left. After assigning a value to an variable, we can enter the name of the variable to see what the value is. For example:</p>
<pre class="r"><code>y &lt;- 2  #(we have assigned the value 4 to the object y)  
x &lt;- 8 #(we have assigned the value 6 to the object x)  
z &lt;- 1 #(we have assigned the value of the object y to the object z, i.e. z = 4) </code></pre>
<pre class="r"><code>x</code></pre>
<pre><code>## [1] 8</code></pre>
<pre class="r"><code>y</code></pre>
<pre><code>## [1] 2</code></pre>
<pre class="r"><code>z</code></pre>
<pre><code>## [1] 1</code></pre>
<p>Variables can contain letter, digits, or periods. But it cannot start with a number.<br />
Some examples:</p>
<pre class="r"><code>the.number.two &lt;- 2  
the.number.two</code></pre>
<pre><code>## [1] 2</code></pre>
<p>R supports various data types including Vectors, Lists, Matrices, and Data Frames. We can use <code>class</code> function to get the type of data.</p>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">0.1.1</span> Vectors</h3>
<p>Vectors are a collection of elements.</p>
<pre class="r"><code># Create a vector
my_letters &lt;- c(&#39;A&#39;,&#39;B&#39;,&quot;C&quot;)
my_letters</code></pre>
<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;</code></pre>
<pre class="r"><code># Get the class of the vector.
class(my_letters)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div id="referencing-and-indexing-objects-in-r" class="section level4">
<h4><span class="header-section-number">0.1.1.1</span> Referencing and Indexing Objects in R</h4>
<p>In <code>R</code>, specific elements in an object are referenced by using brackets (i.e. <code>[</code> <code>]</code>). For example:</p>
<pre class="r"><code>x &lt;- c(1,2,3,4,5)  
x[5] # what is the fifth element in x?  </code></pre>
<pre><code>## [1] 5</code></pre>
<pre class="r"><code>x[2:4] # what are the second through fourth elements in x?  </code></pre>
<pre><code>## [1] 2 3 4</code></pre>
<pre class="r"><code>x[c(1,4)] # what are the first and fourth elements in x?  </code></pre>
<pre><code>## [1] 1 4</code></pre>
<pre class="r"><code># note the difference in use between [#:#] and [c(#,#)].</code></pre>
<p>We can also change values by indexing:</p>
<pre class="r"><code>x[5]   &lt;- 3 # change the fifth element in x to 5.  
x[5]</code></pre>
<pre><code>## [1] 3</code></pre>
<pre class="r"><code>x[1:5] &lt;- 0 # change the first through fifth elements in x to 0. 
x</code></pre>
<pre><code>## [1] 0 0 0 0 0</code></pre>
</div>
</div>
<div id="lists" class="section level3">
<h3><span class="header-section-number">0.1.2</span> Lists:</h3>
<p>A list can contain many different types of elements like vectors, functions and even another list inside it.</p>
<pre class="r"><code># Create a list.
my_list &lt;- list(c(2,5,3),4,log,&quot;A&quot;)
my_list</code></pre>
<pre><code>## [[1]]
## [1] 2 5 3
## 
## [[2]]
## [1] 4
## 
## [[3]]
## function (x, base = exp(1))  .Primitive(&quot;log&quot;)
## 
## [[4]]
## [1] &quot;A&quot;</code></pre>
<pre class="r"><code>class(my_list)</code></pre>
<pre><code>## [1] &quot;list&quot;</code></pre>
<pre class="r"><code>#indexing to get 5th element
my_list[4]</code></pre>
<pre><code>## [[1]]
## [1] &quot;A&quot;</code></pre>
</div>
<div id="matrices" class="section level3">
<h3><span class="header-section-number">0.1.3</span> Matrices</h3>
<p>A matrix is a two-dimensional representation of data. Matrices can be created by combining existing vectors using the <code>rbind()</code> and <code>cbind()</code> functions.It can be also created using a vector input to the <code>matrix</code> function.</p>
<pre class="r"><code>x  &lt;- c(6,5,4,3,2)
y  &lt;- c(8,7,5,3,1)
m1 &lt;- rbind(x,y) #bind x and y by row to create a 2 X 5 matrix.
m1 #just enter the name of the object to print it.</code></pre>
<pre><code>##   [,1] [,2] [,3] [,4] [,5]
## x    6    5    4    3    2
## y    8    7    5    3    1</code></pre>
<pre class="r"><code>m2 &lt;- cbind(x,y) #bind x and y by column to create a 5 X 2 matrix.
m2 #just enter the name of the object to print it.</code></pre>
<pre><code>##      x y
## [1,] 6 8
## [2,] 5 7
## [3,] 4 5
## [4,] 3 3
## [5,] 2 1</code></pre>
<pre class="r"><code>m3 &lt;- matrix(c(1,2,3,4,5,6),nrow=2,ncol=3)
m3</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    3    5
## [2,]    2    4    6</code></pre>
<p>We can index the matrix <code>m1</code> or <code>m2</code> by using the brackets <code>[ ]</code> with a comma between the two dimensions. Since a matrix is 2-dimensions, we can reference a specific element, an entire row, or an entire column:</p>
<pre class="r"><code>m1[2,2] #what is the value of the element in the 2nd row, 2nd column?</code></pre>
<pre><code>## y 
## 7</code></pre>
<pre class="r"><code>m1[,2]  #what are the values in the second column?</code></pre>
<pre><code>## x y 
## 5 7</code></pre>
<pre class="r"><code>m1[2,]  #what are the values in the second row?</code></pre>
<pre><code>## [1] 8 7 5 3 1</code></pre>
<pre class="r"><code>m2[2,2] &lt;- 0 #change the value to zero.
m2[2,]  &lt;- 0 #change the second row to zeros.
m2[,2]  &lt;- 0 #change the second column to zeros.
m2</code></pre>
<pre><code>##      x y
## [1,] 6 0
## [2,] 0 0
## [3,] 4 0
## [4,] 3 0
## [5,] 2 0</code></pre>
</div>
<div id="data-frames" class="section level3">
<h3><span class="header-section-number">0.1.4</span> Data frames</h3>
<p>Data frames are tabular represeantion of data. Unlike a matrix, in data frame each column can contain different types of data. The first column can be numeric while the second column can be character and third column can be logical. It is a list of vectors of equal length. Data Frames are created using the <em>data.frame()</em> function.</p>
<pre class="r"><code># Create the data frame
my_data &lt;-  data.frame(
   gender = c(&quot;Female&quot;, &quot;Male&quot;,&quot;Female&quot;), 
   height = c(160.2,170.2,165.1), 
   weight = c(150,185,120),
   Age = c(40,31,24)
)
my_data</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["gender"],"name":[1],"type":["chr"],"align":["left"]},{"label":["height"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["weight"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Age"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Female","2":"160.2","3":"150","4":"40"},{"1":"Male","2":"170.2","3":"185","4":"31"},{"1":"Female","2":"165.1","3":"120","4":"24"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>#indexing to desired element</p>
<pre class="r"><code>my_data[1,]</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["gender"],"name":[1],"type":["chr"],"align":["left"]},{"label":["height"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["weight"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Age"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Female","2":"160.2","3":"150","4":"40","_rn_":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code>my_data[2,3]</code></pre>
<pre><code>## [1] 185</code></pre>
</div>
</div>
<div id="r-session-management" class="section level2">
<h2><span class="header-section-number">0.2</span> R Session Management</h2>
<p>When you start <code>R</code>, it looks for user-written programs and data files in current-working directory.</p>
<p>To determine the current directory, type: <code>getwd()</code>.<br />
You can set the working directory also by typing: <code>setwd("</code>your desired directory here<code>")</code>.</p>
<pre class="r"><code>getwd()</code></pre>
<pre><code>## [1] &quot;/Users/wouma/Desktop/osc_training/RNA-Seq/RNA-Seq-2020&quot;</code></pre>
<p>All variables created in <code>R</code> are stored in the memory as “workspace”. To see what exists in the workspace, type: <code>ls()</code>.<br />
We can remove specific variables with the <code>rm()</code> function. This helps clear up space (i.e. conserve memory). For example:</p>
<pre class="r"><code>x&lt;-seq(1,5,1) # create the object.
#ls()         # see the objects.
rm(x)# remove the object x.
#ls()</code></pre>
<p>To remove everything from the workspace use: <code>rm(list=ls())</code>. This is helpful for starting a session to make sure everything is cleaned out.</p>
<p>To save the workspace use the <code>save.image()</code> function. This function requires a file path, a file name, and the extension “.RData” which is the format for an R workspace file.</p>
<p>For example, to save a workspace called “RWorkshop” to the current directory, simply type: <code>save.image("RWorkshop.Rdata")</code>.</p>
<p>To load a previously saved workspace, you can either click on the file outside of R or use the <code>load()</code> function (e.g. <code>load("RWorkshop.Rdata")</code>). If you get an error, make sure you are referring the correct directory. You can also choose Load Workspace from the pull-down menu.</p>
<p>Note that only the objects in the workspace are saved, not the text of what you have written.</p>
<pre class="r"><code>save.image(&quot;RWorkshop.Rdata&quot;)
load(&quot;RWorkshop.Rdata&quot;)
#ls()</code></pre>
</div>
<div id="functions-in-r" class="section level2">
<h2><span class="header-section-number">0.3</span> Functions in R</h2>
<p>A major strength of <code>R</code> is the ability to manipulate objects using functions. A function takes an argument (aka input) and returns some value (aka output).</p>
<p>For example, suppose we wanted to create a list of numbers, called a <em>vector</em>. We want to create an object that is defined by the list of numbers. In R, there is a preprogrammed function <code>c()</code>, which combines or <em>concatenates</em> values to create a single object. We can create an object <code>x</code>, that is a vector of 1, 2, 3, 4, and 5 using: <code>x &lt;- c(1,2,3,4,5)</code>.</p>
<p>This reads: the object x is assigned the values 1, 2, 3, 4, and 5. The function is “<code>c</code>” and the argument is <code>1,2,3,4,5</code>.</p>
<p>The number of values (aka elements) a vector contains is referred to as the “length”. We can use the <code>length()</code> function to return this information for us. For example: <code>length(x)</code> shows that the vector <code>x</code> has 5 values or elements.</p>
<pre class="r"><code>x &lt;- c(1,2,3,4,5)
x</code></pre>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<pre class="r"><code>length(x)</code></pre>
<pre><code>## [1] 5</code></pre>
</div>
<div id="packages-and-the-install.packages-and-library-functions" class="section level2">
<h2><span class="header-section-number">0.4</span> Packages and the <code>install.packages()</code> and <code>library()</code> Functions</h2>
<p><code>R</code> has MANY preprogrammed functions that are automatically loaded when you open the program. Functions are stored in “packages”. Although there are many preprogrammed functions, there are even MORE functions that you can install on your own. A package in <code>R</code> is a collection of functions, usually written for a specific purpose.</p>
<p>R comes with a single library $R_HOME/library which contains the standard and recommended packages. This is usually in a system location. On Owens, it is at /usr/local/R/gnu/9.1/3.6.3/lib64/R for R/3.6.3. OSC also installs popular R packages into the site located at/usr/local/R/gnu/9.1/3.6.3/site/pkgs for R/3.6.3 on Owens.</p>
<p>Users can check the library path as follows after launching an R session;</p>
<pre class="r"><code>.libPaths()</code></pre>
<pre><code>## [1] &quot;/Library/Frameworks/R.framework/Versions/4.0/Resources/library&quot;</code></pre>
<p>Users can check the list of available packages as follows;</p>
<pre class="r"><code>installed.packages()</code></pre>
<p>To install local R packages, use install.package() command. For example,</p>
<pre class="r"><code>#install.packages(&quot;sudoku&quot;)
#library(sudoku)
#help(sudoku)</code></pre>
<p>Install packages to specific path</p>
<pre class="r"><code>#install.packages(&quot;sudoku&quot;, repos=&quot;http://cran.us.r-project.org&quot;,lib= /users/PZS0680/soottikkal/Rworkshop )</code></pre>
<p>Load a package from a specific paths</p>
<pre class="r"><code>#library(sudoku, lib.loc=&quot;/users/PZS0680/soottikkal/Rworkshop/Rworkshop&quot;)</code></pre>
<p>Installing Packages from GitHub Users can install R packages directly from Github using devtools package as follows</p>
<pre class="r"><code>#install.packages(&quot;devtools&quot;)
#devtools::install_github(&quot;author/package&quot;)</code></pre>
<p>Installing Packages from Bioconductor Users can install R packages directly from Bioconductor using BiocManager.</p>
<pre class="r"><code>#install.packages(&quot;BiocManager&quot;)
#BiocManager::install(c(&quot;GenomicRanges&quot;, &quot;Organism.dplyr&quot;))</code></pre>
<p>Now that we have learned how to write scripts, and the basics of R’s data structures, we are ready to delve into RNA-Seq data analysis.</p>
</div>
<div id="acknowledgment" class="section level2">
<h2><span class="header-section-number">0.5</span> Acknowledgment</h2>
<p>Materials for this section (intro to <code>R</code>) were largely prepared by Shameema Oottikkal, a Data Applications Engineer at OSC</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
